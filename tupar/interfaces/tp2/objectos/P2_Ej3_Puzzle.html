<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link rel="stylesheet" href="estilos.css" type="text/css"/>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Trabajo Practico 2 - Objetos</title>
    </head>

    <body style="margin:0;padding:0;" onload="init();">
        <div class="parametros"> 
            <input class="cargarImagenes" type="file" id="archivo" name="files[]" multiple/>
        </div>
        
        <div class="container">    
            <canvas id="canvas" width="900" height="600" style="border:green solid 1px">
                <p>Su navegador no soporta HTML5</p>
            </canvas>
        </div>  

        <div>
            <output id="list"></output>
        </div>
        
        <script type="text/javascript" src="mainPuzzle.js"></script>
        <script type="text/javascript" src="utils.js"></script>
        <script type="text/javascript" src="clases/Shape.js"></script>
        <script type="text/javascript" src="clases/Box.js"></script>
        <script type="text/javascript" src="clases/Circle.js"></script>
        <script type="text/javascript" src="clases/List.js"></script>
        <script type="text/javascript" src="clases/Piece.js"></script>
    </body>
</html>
    
    
<script type="text/javascript">
  function handleFileSelect(evt) {
 
    var files = evt.target.files; 
    for(var i=0, f ;f=files[i]; i++) {
        if (!f.type.match('image.*'))
            return;

        var reader = new FileReader();

        reader.onload = ( function(theFile) {
                                return function(e) {
                                            var span = document.createElement('span');
                                            span.innerHTML = ['<img class="origen" src="', e.target.result,
                                                            '" onclick="selectImagen(',"'",escape(theFile.name),"'",
                                                            "",')" ',
                                                            'id="',escape(theFile.name),
                                                            '" title="', escape(theFile.name), '"/>'].join('');
                                            document.getElementById('list').insertBefore(span, null);
                                        };
                           })(f);
    
        reader.readAsDataURL(f);
    }
}

document.getElementById('archivo').addEventListener('change', handleFileSelect, false);

function selectImagen(id) {
    figuras.init();
    img.src = document.getElementById(id).src;    
    
  }


</script>